!function () {
    'use strict';
    try {
        angular.module('ds.templates');
    } catch (e) {
        angular.module('ds.templates', []);
    }
    angular.module('ds.datepicker', ["ds.templates"]);
}(), function () {
    'use strict';
    angular.module('ds.datepicker').controller('dsDatepickerCtrl', ["$scope","$document","dsDatepickerService","dsDateFormatService",function(e,t,n,r){var a,o,i=this;i.date=void 0,i.dates=[],i.disabled=!1,i.disable=function(){i.disabled=!0},i.enable=function(){i.disabled=!1},i.open=!1,i.flipPickerState=function(e){i.open?i.closePicker(e):i.openPicker(e)},i.openPicker=function(){if(i.open=!0,!a){var n=!1;a=function(){n?(i.closePicker(),e.$digest()):n=!0},t.on("click",a)}},i.closePicker=function(){i.open=!1,a&&(t.off("click",a),a=void 0)},i.setDateAndViewValue=function(t){var n;n=o(t.clone(),i.date),i.dateChanged(n),i.curDate=n.clone(),i.date=n,e.setViewValue(i.date)},i.setDate=function(t){var n;n=o(t.clone(),i.date),i.dateChanged(n),i.date=n,e.setViewValue(i.date)},i.addDate=function(){i.setDateAndViewValue(n.increaseDate(i.date))},i.subDate=function(){i.setDateAndViewValue(n.decreaseDate(i.date))},i.addMonth=function(){i.setDateAndViewValue(n.increaseMonth(i.date))},i.subMonth=function(){i.setDateAndViewValue(n.decreaseMonth(i.date))},i.dateChanged=function(e){i.dates=n.generateDateArray(e)},i.formatChanged=function(e){r.generateDateFormatFix(e).then(function(e){o=e})},i.determineClasses=function(e,t){var n,r=[];return n=i.dates[7*e+t-1],n&&(n.month()!==i.date.month()&&r.push("otherMonth"),n.unix()===i.date.unix()&&r.push("is-selected")),r}}]);
}(), function () {
    'use strict';
    angular.module('ds.datepicker').directive('dsDateFormat', ["$log","dsDateFormatService",function(e,t){return{restrict:"EA",require:"^ngModel",link:function(e,n,r,a){function o(e){s=e,t.generateDateFormatFix(s).then(function(e){u=e})}function i(e){var t;return d=moment(e),t=d.format(s)}function c(e){var t;return t=moment(e,s),u(t,d),t}var u,d,s;a.$formatters.push(i),a.$parsers.push(c),r.$observe("format",o),function(){o(r.format||"DD.MM.YYYY")}()}}}]);
}(), function () {
    'use strict';
    angular.module('ds.datepicker').directive('dsDatepicker', ["$locale",function(e){return{restrict:"EA",require:"^ngModel",controller:"dsDatepickerCtrl",controllerAs:"pickerCtrl",bindToController:!0,scope:{config:"=?"},link:function(t,n,r,a){moment.locale(e.id),t.$on("$localeChangeSuccess",function(){moment.locale(e.id)}),t.setViewValue=function(e){a.$setViewValue(moment(e))},a.$formatters.push(function(e){var n;return n=moment(e),t.pickerCtrl.dateChanged(n),t.pickerCtrl.date=n,t.pickerCtrl.curDate=n,e}),a.$parsers.push(function(e){return e.toDate()}),t.$watch(function(){return t.pickerCtrl.config},function(e){e.dateFormat&&t.pickerCtrl.formatChanged(e.dateFormat)},!0),angular.element(n[0].querySelector(".datepicker-inputField")).bind("keydown",function(e){38===e.keyCode?t.pickerCtrl.addDate():40===e.keyCode&&t.pickerCtrl.subDate(),t.$apply()}),r.$observe("disabled",function(e){e===!0?t.pickerCtrl.disable():t.pickerCtrl.enable()})},templateUrl:"src/templates/dsDatepicker.tpl.html"}}]);
}(), function () {
    'use strict';
    angular.module('ds.datepicker').filter('dsMomentFilter', function () {
        return function (e, t) {
            return moment(e).format(t);
        };
    });
}(), function () {
    angular.module('ds.datepicker').factory('dsDateFormatService', ["$log","$q",function(e,t){function n(e){var n,r,a,o={};return n=t.defer(),angular.isString(e)?(r=moment(658665031337),a=moment(r.format(e),e).toObject(),angular.forEach(r.toObject(),function(e,t){o[t]=a[t]===e||0!==a[t]}),n.resolve(o)):n.reject("Unable to identify format - the given format is not a string. ["+e+"]"),n.promise}function r(e){var r;return r=t.defer(),n(e).then(function(e){var t=[];angular.forEach(e,function(e,n){e||t.push(n)}),r.resolve(a(t))})["catch"](r.reject),r.promise}function a(e){return function(t,n){return n&&n.isValid()&&e.length>0&&e.forEach(function(e){t.set(e,n.get(e))}),t}}var o;return o={identifyFormat:n,generateDateFormatFix:r}}]);
}(), function () {
    'use strict';
    angular.module('ds.datepicker').factory('dsDatepickerService', function () {
        function e(e, t) {
            return o(e, 'day', t || 1);
        }
        function t(e, t) {
            return o(e, 'day', -1 * (t || 1));
        }
        function n(e, t) {
            return o(e, 'month', -1 * (t || 1));
        }
        function r(e, t) {
            return o(e, 'month', t || 1);
        }
        function a(e) {
            var t, n, r = [];
            if (angular.isDate(e) || moment(e.unix()).isValid()) {
                t = moment(e), t.set('date', 1), n = t.day(), n += 0 === n ? 7 : 0, t.subtract(n, 'day');
                for (var a = 0; 42 > a; a++)
                    t.add(1, 'day'), r.push(t.clone());
            }
            return r;
        }
        function o(e, t, n) {
            return e.add(n, t);
        }
        var i;
        return i = {
            increaseDate: e,
            decreaseDate: t,
            increaseMonth: r,
            decreaseMonth: n,
            generateDateArray: a
        };
    });
}();