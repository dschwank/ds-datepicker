!function () {
    'use strict';
    try {
        angular.module('ds.templates');
    } catch (e) {
        angular.module('ds.templates', []);
    }
    angular.module('ds.datepicker', ["ds.templates"]);
}(), function () {
    'use strict';
    angular.module('ds.datepicker').controller('dsDatepickerCtrl', ["$scope","$document","dsDatepickerService","dsDateFormatService",function(e,t,n,r){var a,i,o=this;o.date=void 0,o.dates=[],o.disabled=!1,o.disable=function(){o.disabled=!0},o.enable=function(){o.disabled=!1},o.open=!1,o.flipPickerState=function(e){o.open?o.closePicker(e):o.openPicker(e)},o.openPicker=function(){if(o.open=!0,!a){var n=!1;a=function(){n?(o.closePicker(),e.$digest()):n=!0},t.on("click",a)}},o.closePicker=function(){o.open=!1,a&&(t.off("click",a),a=void 0)},o.setDateAndViewValue=function(t){var n;n=i(t.clone(),o.date),o.dateChanged(n),o.curDate=n.clone(),o.date=n,e.setViewValue(o.date)},o.setDate=function(t){var n;n=i(t.clone(),o.date),o.dateChanged(n),o.date=n,e.setViewValue(o.date)},o.addDate=function(){o.setDateAndViewValue(n.increaseDate(o.date))},o.subDate=function(){o.setDateAndViewValue(n.decreaseDate(o.date))},o.addMonth=function(){o.setDateAndViewValue(n.increaseMonth(o.date))},o.subMonth=function(){o.setDateAndViewValue(n.decreaseMonth(o.date))},o.dateChanged=function(e){o.dates=n.generateDateArray(e)},o.formatChanged=function(e){r.generateDateFormatFix(e).then(function(e){i=e})},o.determineClasses=function(e,t){var n,r=[];return n=o.dates[7*e+t-1],n&&(n.month()!==o.date.month()&&r.push("otherMonth"),n.unix()===o.date.unix()&&r.push("is-selected")),r}}]);
}(), function () {
    'use strict';
    angular.module('ds.datepicker').filter('dsMomentFilter', ["$locale",function(e){return function(t,n){var r;return r=moment(t),r.locale(e.id),r.format(n)}}]);
}(), function () {
    'use strict';
    angular.module('ds.datepicker').directive('dsDateFormat', ["$log","dsDateFormatService",function(e,t){return{restrict:"EA",require:"^ngModel",link:function(e,n,r,a){function i(e){s=e,t.generateDateFormatFix(s).then(function(e){u=e})}function o(e){var t;return d=moment(e),t=d.format(s)}function c(e){var t;return t=moment(e,s),u(t,d),t}var u,d,s;a.$formatters.push(o),a.$parsers.push(c),r.$observe("format",i),function(){i(r.format||"DD.MM.YYYY")}()}}}]);
}(), function () {
    'use strict';
    angular.module('ds.datepicker').directive('dsDatepicker', ["$locale",function(e){return{restrict:"EA",require:"^ngModel",controller:"dsDatepickerCtrl",controllerAs:"pickerCtrl",bindToController:!0,scope:{config:"=?"},link:function(e,t,n,r){e.setViewValue=function(e){r.$setViewValue(moment(e))},r.$formatters.push(function(t){var n;return n=moment(t),e.pickerCtrl.dateChanged(n),e.pickerCtrl.date=n,e.pickerCtrl.curDate=n,t}),r.$parsers.push(function(e){return e.toDate()}),e.$watch(function(){return e.pickerCtrl.config},function(t){t.dateFormat&&e.pickerCtrl.formatChanged(t.dateFormat)},!0),angular.element(t[0].querySelector(".datepicker-inputField")).bind("keydown",function(t){38===t.keyCode?e.pickerCtrl.addDate():40===t.keyCode&&e.pickerCtrl.subDate(),e.$apply()}),n.$observe("disabled",function(t){t===!0?e.pickerCtrl.disable():e.pickerCtrl.enable()})},templateUrl:"src/templates/dsDatepicker.tpl.html"}}]);
}(), function () {
    angular.module('ds.datepicker').factory('dsDateFormatService', ["$log","$q",function(e,t){function n(e){var n,r,a,i={};return n=t.defer(),angular.isString(e)?(r=moment(658665031337),a=moment(r.format(e),e).toObject(),angular.forEach(r.toObject(),function(e,t){i[t]=a[t]===e||0!==a[t]}),n.resolve(i)):n.reject("Unable to identify format - the given format is not a string. ["+e+"]"),n.promise}function r(e){var r;return r=t.defer(),n(e).then(function(e){var t=[];angular.forEach(e,function(e,n){e||t.push(n)}),r.resolve(a(t))})["catch"](r.reject),r.promise}function a(e){return function(t,n){return n&&n.isValid()&&e.length>0&&e.forEach(function(e){t.set(e,n.get(e))}),t}}var i;return i={identifyFormat:n,generateDateFormatFix:r}}]);
}(), function () {
    'use strict';
    angular.module('ds.datepicker').factory('dsDatepickerService', function () {
        function e(e, t) {
            return i(e, 'day', t || 1);
        }
        function t(e, t) {
            return i(e, 'day', -1 * (t || 1));
        }
        function n(e, t) {
            return i(e, 'month', -1 * (t || 1));
        }
        function r(e, t) {
            return i(e, 'month', t || 1);
        }
        function a(e) {
            var t, n, r = [];
            if (angular.isDate(e) || moment(e.unix()).isValid()) {
                t = moment(e), t.set('date', 1), n = t.day(), n += 0 === n ? 7 : 0, t.subtract(n, 'day');
                for (var a = 0; 42 > a; a++)
                    t.add(1, 'day'), r.push(t.clone());
            }
            return r;
        }
        function i(e, t, n) {
            return e.add(n, t);
        }
        var o;
        return o = {
            increaseDate: e,
            decreaseDate: t,
            increaseMonth: r,
            decreaseMonth: n,
            generateDateArray: a
        };
    });
}();